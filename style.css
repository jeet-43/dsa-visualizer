:root {
  --bg:#f7f6f2;--bg2:#f0efe9;--surface:#ffffff;--border:#e2e0d8;--border2:#cccac0;
  --ink:#1a1916;--ink2:#5a5850;--ink3:#9a9890;--accent:#2563a8;--accent-l:#dbe8f6;
  --c-default:#c8c6bc;--c-comparing:#e8a030;--c-swapping:#c0392b;--c-sorted:#2e7d52;
  --c-pivot:#7c4dbb;--c-left:#2563a8;--c-right:#d4690a;--c-mid:#7c4dbb;
  --c-found:#2e7d52;--c-elim:#e8e6de;--c-heap:#e67e22;--c-bucket:#16a085;--c-current:#3498db;
}
[data-theme="dark"] {
  --bg:#0f0f0d;--bg2:#161613;--surface:#1c1c19;--border:#2a2a26;--border2:#3a3a35;
  --ink:#e8e6df;--ink2:#9a9890;--ink3:#5a5850;--accent:#4a8fd4;--accent-l:#1a2d42;
  --c-default:#3a3a35;--c-comparing:#c8841a;--c-swapping:#a02f24;--c-sorted:#256642;
  --c-pivot:#6a3da0;--c-left:#3a70a8;--c-right:#b8560a;--c-mid:#6a3da0;
  --c-found:#256642;--c-elim:#2a2a26;--c-heap:#c06818;--c-bucket:#127060;--c-current:#2a7aaa;
}
body,header,.sidebar,.main-panel,.algo-nav,.viz-canvas,.cx-cell,.tag,.btn,.algo-select,
input,.apply-btn,.bin-cell,.bar,.algo-category,.logo,.header-meta,.welcome-screen,
.algo-category-title,.algo-items,.feature-item,.sidebar-section-label,.ctrl-label,
.status-msg,.step-info,.legend-row{
  transition:background-color .25s ease,border-color .25s ease,color .15s ease,box-shadow .25s ease;
}
.theme-toggle{display:flex;align-items:center;gap:8px;padding:7px 14px;background:none;
  border:1px solid var(--border2);border-radius:20px;font-family:'IBM Plex Mono',monospace;
  font-size:.62rem;letter-spacing:.8px;text-transform:uppercase;color:var(--ink2);
  cursor:pointer;transition:all .2s ease;white-space:nowrap;}
.theme-toggle:hover{border-color:var(--ink);color:var(--ink);}
.theme-toggle-icon{font-size:.85rem;line-height:1;}
.sound-toggle{display:flex;align-items:center;gap:6px;padding:7px 12px;background:none;
  border:1px solid var(--border2);border-radius:20px;font-family:'IBM Plex Mono',monospace;
  font-size:.62rem;letter-spacing:.8px;text-transform:uppercase;color:var(--ink2);
  cursor:pointer;transition:all .2s ease;}
.sound-toggle .sound-toggle-icon{font-size:.8rem;line-height:1;}
.sound-toggle:hover{border-color:var(--ink);color:var(--ink);}
.sound-toggle.active{border-color:var(--accent);color:var(--accent);background:var(--accent-l);}
.header-controls{display:flex;align-items:center;gap:8px;}
.welcome-screen{position:fixed;top:0;left:0;width:100vw;height:100vh;
  background:linear-gradient(135deg,var(--bg) 0%,var(--bg2) 100%);z-index:1000;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  text-align:center;padding:60px 40px;overflow-y:auto;}
.welcome-screen.hidden{display:none;}
.welcome-container{max-width:1100px;width:100%;padding:0;}
.welcome-main-title{font-family:'IBM Plex Mono',monospace;font-size:.9rem;letter-spacing:6px;
  text-transform:uppercase;color:var(--ink);margin-bottom:50px;font-weight:600;
  text-align:center;position:relative;padding-bottom:20px;}
.welcome-main-title:after{content:'';position:absolute;bottom:0;left:50%;
  transform:translateX(-50%);width:80px;height:3px;background:var(--accent);}
.welcome-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:50px;gap:30px;}
.welcome-branding{text-align:left;flex:1;}
.welcome-tagline{font-family:'IBM Plex Mono',monospace;font-size:.7rem;letter-spacing:2.5px;
  text-transform:uppercase;color:var(--ink3);margin-bottom:12px;font-weight:500;}
.welcome-hero{font-family:'Instrument Serif',serif;font-size:4rem;letter-spacing:-2px;
  color:var(--ink);margin-bottom:8px;line-height:1;font-weight:400;}
.welcome-hero em{font-style:italic;color:var(--accent);position:relative;}
.welcome-hero em:after{content:'';position:absolute;bottom:4px;left:0;width:100%;height:2px;
  background:var(--accent);opacity:.4;}
.start-btn{padding:18px 50px;background:var(--ink);color:var(--bg);border:2px solid var(--ink);
  border-radius:50px;font-family:'IBM Plex Mono',monospace;font-size:.85rem;font-weight:600;
  letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:all .3s ease;
  box-shadow:0 6px 20px rgba(26,25,22,.15);position:relative;overflow:hidden;white-space:nowrap;}
.start-btn:before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
  background:var(--accent);transition:left .4s ease;z-index:-1;}
.start-btn:hover{color:var(--bg);border-color:var(--accent);transform:translateY(-2px);
  box-shadow:0 10px 28px rgba(37,99,168,.25);}
.start-btn:hover:before{left:0;}
.start-btn:active{transform:translateY(0);}
.welcome-subtitle{font-size:1.15rem;color:var(--ink2);margin-bottom:60px;max-width:800px;
  margin-left:auto;margin-right:auto;line-height:1.7;font-weight:300;text-align:center;}
.welcome-content{display:grid;grid-template-columns:1.2fr 1fr;gap:70px;align-items:start;}
.welcome-main{text-align:left;}.welcome-sidebar{text-align:left;}
.content-title{font-family:'IBM Plex Mono',monospace;font-size:.75rem;letter-spacing:2px;
  text-transform:uppercase;color:var(--accent);margin-bottom:30px;font-weight:600;
  padding-bottom:12px;border-bottom:2px solid var(--accent);display:inline-block;}
.features-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:24px;margin-bottom:0;}
.feature-item{text-align:left;}
.feature-number{display:inline-flex;align-items:center;justify-content:center;
  width:32px;height:32px;border-radius:50%;background:var(--accent-l);color:var(--accent);
  font-family:'IBM Plex Mono',monospace;font-size:.75rem;font-weight:700;
  border:2px solid var(--accent);margin-bottom:12px;}
.feature-title{font-family:'IBM Plex Mono',monospace;font-size:.82rem;font-weight:600;
  letter-spacing:.5px;text-transform:uppercase;color:var(--ink);margin-bottom:8px;}
.feature-desc{font-size:.9rem;color:var(--ink2);line-height:1.6;}
.algo-list{display:flex;flex-direction:column;gap:20px;}
.algo-category{padding:20px 24px;background:var(--surface);border:2px solid var(--border);
  border-radius:6px;transition:all .3s ease;}
.algo-category:hover{border-color:var(--accent);box-shadow:0 4px 16px rgba(37,99,168,.08);}
.algo-category-title{margin-bottom:12px;font-family:'IBM Plex Mono',monospace;font-size:.75rem;
  font-weight:600;letter-spacing:1px;text-transform:uppercase;color:var(--ink);}
.algo-items{font-size:.85rem;color:var(--ink2);line-height:1.8;}
.welcome-footer{margin-top:60px;padding-top:25px;border-top:2px solid var(--border);
  display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:wrap;}
.footer-text{font-family:'IBM Plex Mono',monospace;font-size:.72rem;color:var(--ink3);letter-spacing:.5px;}
.footer-divider{color:var(--border2);margin:0 6px;}
.footer-credit{font-family:'IBM Plex Mono',monospace;font-size:.72rem;color:var(--ink2);letter-spacing:.5px;}
.footer-credit a{color:var(--accent);text-decoration:none;font-weight:600;transition:color .2s;border-bottom:1px solid transparent;}
.footer-credit a:hover{color:var(--ink);border-bottom-color:var(--ink);}
.by-jeet:hover{color:var(--accent)!important;border-bottom-color:var(--accent)!important;}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
html{scroll-behavior:smooth;}
.hidden{display:none!important;}
body{background:var(--bg);color:var(--ink);font-family:'DM Sans',sans-serif;font-weight:400;
  min-height:100vh;-webkit-font-smoothing:antialiased;}
.wrap{max-width:1100px;margin:0 auto;padding:0 32px;}
header{border-bottom:1px solid var(--border);padding:40px 0 28px;}
.header-inner{display:flex;align-items:baseline;justify-content:space-between;flex-wrap:wrap;gap:12px;}
.logo{font-family:'Instrument Serif',serif;font-size:2rem;letter-spacing:-.5px;color:var(--ink);line-height:1;}
.logo em{font-style:italic;color:var(--accent);}
.header-meta{font-family:'IBM Plex Mono',monospace;font-size:.7rem;color:var(--ink3);letter-spacing:.5px;text-transform:uppercase;}
.algo-nav{display:flex;gap:16px;padding:20px 0;border-bottom:1px solid var(--border);align-items:center;flex-wrap:wrap;}
.nav-group{display:flex;flex-direction:column;gap:8px;}
.nav-label{font-family:'IBM Plex Mono',monospace;font-size:.6rem;letter-spacing:1.2px;text-transform:uppercase;color:var(--ink3);font-weight:500;}
.algo-select{padding:10px 16px;background:var(--surface);border:1px solid var(--border2);
  border-radius:3px;color:var(--ink);font-family:'IBM Plex Mono',monospace;font-size:.75rem;
  font-weight:500;cursor:pointer;outline:none;transition:border-color .15s,box-shadow .15s;min-width:200px;}
.algo-select:hover{border-color:var(--ink);}
.algo-select:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-l);}
.algo-select option{padding:8px;}
.algo-divider{width:1px;height:40px;background:var(--border);align-self:center;}
.body-grid{display:grid;grid-template-columns:240px 1fr;gap:0;min-height:calc(100vh - 160px);}
.sidebar{border-right:1px solid var(--border);padding:28px 24px 28px 0;display:flex;flex-direction:column;gap:28px;}
.sidebar-section-label{font-family:'IBM Plex Mono',monospace;font-size:.62rem;letter-spacing:1.2px;text-transform:uppercase;color:var(--ink3);margin-bottom:10px;}
.algo-title{font-family:'Instrument Serif',serif;font-size:1.25rem;color:var(--ink);margin-bottom:6px;}
.algo-tags{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:12px;}
.tag{font-family:'IBM Plex Mono',monospace;font-size:.6rem;letter-spacing:.5px;padding:3px 8px;
  border:1px solid var(--border2);color:var(--ink2);border-radius:2px;text-transform:uppercase;}
.algo-desc{font-size:.82rem;line-height:1.65;color:var(--ink2);}
.complexity-grid{display:grid;grid-template-columns:1fr 1fr;gap:6px;}
.cx-cell{padding:8px 10px;border:1px solid var(--border);background:var(--bg2);border-radius:3px;}
.cx-label{font-family:'IBM Plex Mono',monospace;font-size:.58rem;letter-spacing:.8px;text-transform:uppercase;color:var(--ink3);margin-bottom:3px;}
.cx-val{font-family:'IBM Plex Mono',monospace;font-size:.82rem;font-weight:600;color:var(--ink);}
.ctrl-group{margin-bottom:16px;}.ctrl-group:last-child{margin-bottom:0;}
.ctrl-label{display:flex;justify-content:space-between;font-family:'IBM Plex Mono',monospace;
  font-size:.62rem;letter-spacing:.8px;text-transform:uppercase;color:var(--ink3);margin-bottom:8px;}
.ctrl-label span{color:var(--ink);font-weight:600;}
input[type=range]{-webkit-appearance:none;width:100%;height:2px;background:var(--border2);outline:none;cursor:pointer;border-radius:1px;}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:13px;height:13px;border-radius:50%;background:var(--ink);cursor:pointer;transition:transform .1s;}
input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.3);}
input[type=text],input[type=number]{width:100%;background:var(--surface);border:1px solid var(--border2);
  border-radius:3px;color:var(--ink);font-family:'IBM Plex Mono',monospace;font-size:.78rem;
  padding:8px 10px;outline:none;transition:border-color .15s;}
input[type=text]:focus,input[type=number]:focus{border-color:var(--accent);}
input::placeholder{color:var(--ink3);}
.apply-btn{margin-top:7px;width:100%;padding:8px;background:none;border:1px solid var(--border2);
  border-radius:3px;font-family:'IBM Plex Mono',monospace;font-size:.65rem;letter-spacing:.8px;
  text-transform:uppercase;color:var(--ink2);cursor:pointer;transition:background .15s,color .15s,border-color .15s;}
.apply-btn:hover{background:var(--ink);color:var(--bg);border-color:var(--ink);}
.legend-list{display:flex;flex-direction:column;gap:7px;}
.legend-row{display:flex;align-items:center;gap:9px;font-family:'IBM Plex Mono',monospace;
  font-size:.65rem;letter-spacing:.3px;color:var(--ink2);text-transform:uppercase;}
.legend-swatch{width:14px;height:6px;border-radius:1px;flex-shrink:0;}
.main-panel{padding:28px 0 28px 32px;display:flex;flex-direction:column;gap:16px;}
.status-line{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
.status-msg{font-family:'IBM Plex Mono',monospace;font-size:.72rem;color:var(--ink2);display:flex;align-items:center;gap:8px;}
.status-dot{width:6px;height:6px;border-radius:50%;background:var(--ink3);flex-shrink:0;transition:background .2s;}
.status-dot.running{background:var(--accent);animation:blink 1.2s infinite;}
.status-dot.done{background:var(--c-sorted);animation:none;}
.status-dot.error{background:var(--c-swapping);animation:none;}
@keyframes blink{0%,100%{opacity:1;}50%{opacity:.3;}}
.step-info{font-family:'IBM Plex Mono',monospace;font-size:.65rem;color:var(--ink3);letter-spacing:.5px;}
.viz-canvas{width:100%;height:320px;background:var(--surface);border:1px solid var(--border);
  border-radius:4px;display:flex;align-items:flex-end;justify-content:center;gap:2px;
  padding:20px 16px 28px;position:relative;overflow:hidden;flex-shrink:0;}
.bar{border-radius:2px 2px 0 0;flex-shrink:0;transition:height .1s ease,background-color .1s ease;position:relative;}
.bar.st-default  {background:var(--c-default);}
.bar.st-comparing{background:var(--c-comparing);}
.bar.st-swapping {background:var(--c-swapping);}
.bar.st-sorted   {background:var(--c-sorted);}
.bar.st-pivot    {background:var(--c-pivot);}
.bar.st-current  {background:var(--c-current);}
.bar.st-leftpart {background:var(--c-left);}
.bar.st-rightpart{background:var(--c-right);}
.bar.st-heap     {background:var(--c-heap);}
.bar.st-bucket   {background:var(--c-bucket);}
.bar.st-window   {background:var(--c-bucket);}
.bar.st-best-window{background:var(--c-found);}
.bar.st-leftptr  {background:var(--c-left);}
.bar.st-rightptr {background:var(--c-right);}
.bar.st-found    {background:var(--c-found);}
.bar.st-elim     {background:var(--c-elim);}
.bar-val{position:absolute;bottom:-18px;left:50%;transform:translateX(-50%);
  font-family:'IBM Plex Mono',monospace;font-size:.55rem;color:var(--ink3);white-space:nowrap;}
.bin-grid{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;width:100%;padding:16px;}
.bin-cell{width:48px;height:48px;display:flex;align-items:center;justify-content:center;
  border:1px solid var(--border2);border-radius:3px;font-family:'IBM Plex Mono',monospace;
  font-size:.88rem;font-weight:500;color:var(--ink2);background:var(--surface);
  transition:all .2s ease;position:relative;}
.bin-cell .cell-idx{position:absolute;top:2px;right:4px;font-size:.45rem;color:var(--ink3);font-family:'IBM Plex Mono',monospace;}
.bin-cell.bc-left {border-color:var(--c-left); color:var(--c-left); background:#ebf2fc;}
.bin-cell.bc-right{border-color:var(--c-right);color:var(--c-right);background:#fdf3e8;}
.bin-cell.bc-mid  {border-color:var(--c-mid);  color:var(--c-mid);  background:#f2ecfa;transform:scale(1.1);box-shadow:0 2px 12px rgba(124,77,187,.15);z-index:2;}
.bin-cell.bc-found{border-color:var(--c-found);color:var(--c-found);background:#e8f5ee;transform:scale(1.12);box-shadow:0 2px 14px rgba(46,125,82,.2);z-index:2;}
.bin-cell.bc-current{border-color:var(--c-current);color:var(--c-current);background:#e3f2fd;transform:scale(1.08);box-shadow:0 2px 10px rgba(52,152,219,.15);z-index:2;}
.bin-cell.bc-elim{opacity:.22;border-color:var(--border);}
.bin-pointer{position:absolute;bottom:-14px;left:50%;transform:translateX(-50%);
  font-family:'IBM Plex Mono',monospace;font-size:.48rem;letter-spacing:.3px;white-space:nowrap;}
.preset-group{display:flex;flex-wrap:wrap;gap:5px;}
.preset-btn{flex:1;min-width:0;padding:6px 8px;background:none;border:1px solid var(--border2);
  border-radius:3px;font-family:'IBM Plex Mono',monospace;font-size:.58rem;letter-spacing:.5px;
  text-transform:uppercase;color:var(--ink2);cursor:pointer;text-align:center;
  transition:background .15s,color .15s,border-color .15s;line-height:1.3;}
.preset-btn:hover{border-color:var(--ink);color:var(--ink);}
.preset-btn.preset-best {border-color:var(--c-sorted);   color:var(--c-sorted);}
.preset-btn.preset-best:hover {background:var(--c-sorted);  color:var(--surface);border-color:var(--c-sorted);}
.preset-btn.preset-worst{border-color:var(--c-swapping); color:var(--c-swapping);}
.preset-btn.preset-worst:hover{background:var(--c-swapping);color:var(--surface);border-color:var(--c-swapping);}
.preset-btn.preset-avg  {border-color:var(--c-comparing);color:var(--c-comparing);}
.preset-btn.preset-avg:hover  {background:var(--c-comparing);color:var(--surface);border-color:var(--c-comparing);}
.preset-btn.preset-equal{border-color:var(--c-bucket);   color:var(--c-bucket);}
.preset-btn.preset-equal:hover{background:var(--c-bucket);  color:var(--surface);border-color:var(--c-bucket);}
.preset-case{opacity:.65;font-size:.52rem;letter-spacing:0;text-transform:none;font-style:italic;}
.action-bar{display:flex;align-items:center;gap:8px;flex-wrap:wrap;}
.btn{padding:9px 18px;border-radius:3px;font-family:'IBM Plex Mono',monospace;font-size:.68rem;
  letter-spacing:.8px;text-transform:uppercase;font-weight:500;cursor:pointer;
  border:1px solid transparent;transition:background .15s,color .15s,border-color .15s,opacity .15s;}
.btn:disabled{opacity:.35;cursor:not-allowed;}
.btn-solid{background:var(--ink);color:var(--bg);border-color:var(--ink);}
.btn-solid:hover:not(:disabled){background:var(--accent);border-color:var(--accent);}
.btn-outline{background:none;color:var(--ink2);border-color:var(--border2);}
.btn-outline:hover:not(:disabled){color:var(--ink);border-color:var(--ink);}
.btn-ghost{background:none;color:var(--ink3);border-color:transparent;}
.btn-ghost:hover:not(:disabled){color:var(--ink2);border-color:var(--border);}
.btn-divider{width:1px;height:20px;background:var(--border2);margin:0 2px;}
.code-panel{width:100%;background:var(--surface);border:1px solid var(--border);border-radius:4px;overflow:hidden;flex-shrink:0;}
.code-panel-header{display:flex;align-items:center;justify-content:space-between;padding:8px 14px;border-bottom:1px solid var(--border);background:var(--bg2);}
.code-panel-title{font-family:'IBM Plex Mono',monospace;font-size:.6rem;letter-spacing:1.2px;text-transform:uppercase;color:var(--ink3);font-weight:500;}
.code-lang-badge{font-family:'IBM Plex Mono',monospace;font-size:.55rem;letter-spacing:.8px;text-transform:uppercase;color:var(--ink3);padding:2px 7px;border:1px solid var(--border2);border-radius:2px;}
.lang-tabs{display:flex;gap:2px;}
.lang-tab{padding:3px 10px;background:none;border:1px solid transparent;border-radius:3px;font-family:'IBM Plex Mono',monospace;font-size:.58rem;letter-spacing:.6px;text-transform:uppercase;color:var(--ink3);cursor:pointer;transition:all .15s;}
.lang-tab:hover{color:var(--ink2);border-color:var(--border2);}
.lang-tab.active{color:var(--accent);border-color:var(--accent);background:var(--accent-l);}
.code-body{padding:12px 0;overflow-x:auto;}
.code-line{display:flex;align-items:center;padding:0;transition:background-color .1s ease;min-height:21px;}
.code-line.hl-active{background:rgba(74,143,212,.12);border-left:2px solid var(--accent);}
.code-line.hl-active .code-lno{color:var(--accent);}
.code-lno{font-family:'IBM Plex Mono',monospace;font-size:.67rem;color:var(--ink3);min-width:36px;text-align:right;padding-right:14px;padding-left:10px;user-select:none;flex-shrink:0;transition:color .1s;line-height:21px;}
.code-text{font-family:'IBM Plex Mono',monospace;font-size:.72rem;line-height:21px;color:var(--ink2);white-space:pre;padding-right:20px;}
.kw{color:#4a8fd4;}.fn{color:#e8a030;}.cm{color:var(--ink3);font-style:italic;}.nm{color:#2e9e6e;}.st{color:#a06ad4;}
@media(max-width:820px){
  .wrap{padding:0 16px;}
  .body-grid{grid-template-columns:1fr;}
  .sidebar{border-right:none;border-bottom:1px solid var(--border);padding:20px 0;}
  .main-panel{padding:20px 0;}
  .algo-nav{flex-direction:column;gap:12px;align-items:stretch;}
  .algo-divider{width:100%;height:1px;}
  .nav-group{width:100%;}
  .algo-select{width:100%;min-width:unset;}
  .bin-cell{width:40px;height:40px;font-size:.78rem;}
  .welcome-screen{padding:40px 20px;}
  .welcome-hero{font-size:2.5rem;letter-spacing:-1px;}
  .welcome-content{grid-template-columns:1fr;gap:40px;}
  .features-grid{grid-template-columns:1fr;}
  .welcome-header{flex-direction:column;align-items:flex-start;gap:20px;}
  .start-btn{width:100%;}
}
